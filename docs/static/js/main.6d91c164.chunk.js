(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{34:function(e,a,t){e.exports=t(60)},39:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(27),l=t.n(c),i=(t(39),t(11)),m=t(2),s=t(28),o=t(15),u=t(3),d=Object(n.createContext)(),E=function(e){var a=e.reducer,t=e.initialState,c=e.children;return r.a.createElement(d.Provider,{value:Object(n.useReducer)(a,t)},c)},p=function(){return Object(n.useContext)(d)},_=t(29),v=t.n(_),h=t(13),g=t.n(h),b=t(17);t(44);var f=function(e){var a=e.id,t=e.title,n=e.price,c=e.rating,l=e.image,i=e.hideButton,m=p(),s=Object(u.a)(m,2);Object(b.a)(s[0]);var o=s[1];return r.a.createElement("div",{className:"checkoutProduct"},r.a.createElement("img",{className:"checkoutProduct__image",src:l}),r.a.createElement("div",{className:"checkoutProduct__info"},r.a.createElement("p",{className:"checkoutProduct__title"},t),r.a.createElement("p",{className:"checkoutProduct__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"checkoutProduct__rating"},r.a.createElement("p",null,"\u2b50".repeat(c))),!i&&r.a.createElement("button",{onClick:function(){o({type:"REMOVE_FROM_BASKET",id:a})}},"Remove from basket")))};t(45);var N=function(e){var a,t=e.order;return r.a.createElement("div",{className:"order"},r.a.createElement("h2",null,"Order"),r.a.createElement("p",null,v.a.unix(t.created).format("MMMM Do YYYY, h:mma")),r.a.createElement("p",{className:"order__id"},r.a.createElement("small",null,t.id)),null===(a=t.basket)||void 0===a?void 0:a.map((function(e){return r.a.createElement(f,{key:e.id,id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),r.a.createElement(g.a,{renderText:function(e){return r.a.createElement("h3",{className:"order__total"},"Order total: ",e)},decimalScale:2,value:t.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"}))};t(46);var k=function(){var e=p(),a=Object(u.a)(e,1)[0].orders;return r.a.createElement("div",{className:"orders"},r.a.createElement("h1",null,"Your Orders"),r.a.createElement("div",{className:"orders__order"},null===a||void 0===a?void 0:a.map((function(e,a){return r.a.createElement(N,{key:a,order:e})}))))},O=t(30),y=t.n(O),j=t(31),S=t.n(j);t(47);var C=function(){var e=p(),a=Object(u.a)(e,1)[0],t=a.basket,n=a.user;return r.a.createElement("div",{className:"header"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})),r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{className:"header__searchInput",type:"text"}),r.a.createElement(y.a,{className:"header__searchIcon"})),r.a.createElement("div",{className:"header__nav"},r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Hello ",n.email)),r.a.createElement(i.b,{to:"/orders"},r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Returns"),r.a.createElement("span",{className:"header__optionLineTwo"},"& Orders"))),r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Your"),r.a.createElement("span",{className:"header__optionLineTwo"},"Prime")),r.a.createElement(i.b,{to:"/checkout"},r.a.createElement("div",{className:"header__optionBasket"},r.a.createElement(S.a,null),r.a.createElement("span",{className:"header__optionLineTwo header__basketCount"},null===t||void 0===t?void 0:t.length)))))};t(52);var A=function(e){var a=e.id,t=e.title,n=e.price,c=e.image,l=e.rating,i=p(),m=Object(u.a)(i,2);Object(b.a)(m[0]);var s=m[1];return r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"product__info"},r.a.createElement("p",null,t),r.a.createElement("p",{className:"product__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"product__rating"},r.a.createElement("p",null,"\u2b50".repeat(l)))),r.a.createElement("img",{src:c}),r.a.createElement("button",{onClick:function(){s({type:"ADD_TO_BASKET",item:{id:a,title:t,price:n,image:c,rating:l}})}},"Add to basket"))};t(53);var T=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__container"},r.a.createElement("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg"}),r.a.createElement("div",{className:"home__row"},r.a.createElement(A,{id:"12321341",title:"The Lean Startup: How constant innovation creates radically successful businesses paperback",price:11.99,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg",rating:5}),r.a.createElement(A,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Mixer Kitchen with K-beater, Dough hook and whisk, 5 litre glass bowl",price:239,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg"})),r.a.createElement("div",{className:"home__row"},r.a.createElement(A,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved Led Gaming Monitor",price:199.99,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg",rating:3}),r.a.createElement(A,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,image:"https://media.very.co.uk/i/very/P6LTG_5Q1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$",rating:5}),r.a.createElement(A,{id:"3254354345",title:"New Apple Ipad Pro (12.9-inch, Wi-Fi, 128gb) - Silver (4th generation)",price:598.99,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX835_.jpg",rating:4})),r.a.createElement("div",{className:"home__row"},r.a.createElement(A,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved Led Gaming Monitor",price:1094.99,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg",rating:5}))))},x=t(19),w=t(12),L=t(72),M={basket:[],user:{uid:Object(L.a)(),email:"email@email.com"},orders:[]},B=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,a){return a.price+e}),0)},P=function(e,a){switch(a.type){case"ADD_TO_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[].concat(Object(x.a)(e.basket),[a.item])});case"EMPTY_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var t=e.basket.findIndex((function(e){return e.id===a.id})),n=Object(x.a)(e.basket);return t>=0?n.splice(t,1):console.warn("Cant remove product (id: ".concat(a.id,") as its not in basket!")),Object(w.a)(Object(w.a)({},e),{},{basket:n});case"CREATE_ORDER":return Object(w.a)(Object(w.a)({},e),{},{orders:[].concat(Object(x.a)(e.orders),[a.order])});default:return e}};t(54);var R=function(){var e=p(),a=Object(u.a)(e,1)[0].basket,t=Object(m.f)();return r.a.createElement("div",{className:"subtotal"},r.a.createElement(g.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal (",null===a||void 0===a?void 0:a.length," items): ",r.a.createElement("strong",null,e)),r.a.createElement("small",{className:"subtotal__gift"},r.a.createElement("input",{type:"checkbox"}),"This order contains a gift"))},decimalScale:2,value:B(a),displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{onClick:function(){return t.push("/payment")}},"Proceed to checkout"))};t(55);var z=function(){var e=p(),a=Object(u.a)(e,1)[0],t=a.basket,n=a.user;return r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"checkout__left"},r.a.createElement("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Hello, ",null===n||void 0===n?void 0:n.email),r.a.createElement("h2",{className:"checkout__title"},"Your Shopping Basket"),t.map((function(e){var a=e.id,t=e.image,n=e.price,c=e.rating,l=e.title;return r.a.createElement(f,{key:a,id:a,image:t,price:n,rating:c,title:l})})))),r.a.createElement("div",{className:"checkout__right"},r.a.createElement(R,null)))},D=t(23),G=t.n(D),I=t(32);t(57);var K=function(){var e=Object(m.f)(),a=p(),t=Object(u.a)(a,2),c=t[0],l=c.basket,s=c.user,d=t[1],E=Object(n.useState)(!1),_=Object(u.a)(E,2),v=_[0],h=_[1],b=Object(n.useState)(""),N=Object(u.a)(b,2),k=N[0],O=N[1],y=Object(n.useState)(null),j=Object(u.a)(y,2),S=j[0],C=j[1],A=function(){var a=Object(I.a)(G.a.mark((function a(t){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),O(!0),d({type:"CREATE_ORDER",order:{basket:l,amount:100*B(l),created:new Date}}),setTimeout((function(){h(!0),C(null),O(!1),d({type:"EMPTY_BASKET"}),e.replace("/orders")}),1200);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__container"},r.a.createElement("h1",null,"Checkout (",r.a.createElement(i.b,{to:"/checkout"},null===l||void 0===l?void 0:l.length," items"),")"),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Delivery Adress")),r.a.createElement("div",{className:"payment__adress"},r.a.createElement("p",null,null===s||void 0===s?void 0:s.email),r.a.createElement("p",null,"123 React Lane"),r.a.createElement("p",null,"Los Angeles, CA"))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Review Items and Delivery")),r.a.createElement("div",{className:"payment__items"},l.map((function(e){var a=e.id,t=e.title,n=e.price,c=e.image,l=e.rating;return r.a.createElement(f,{key:a,id:a,title:t,price:n,image:c,rating:l})})))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Payment Method")),r.a.createElement("div",{className:"payment__details"},r.a.createElement("form",{onSubmit:A},r.a.createElement(o.CardElement,{onChange:function(e){C(e.error?e.error.message:"")}}),r.a.createElement("div",{className:"payment__priceContainer"},r.a.createElement(g.a,{renderText:function(e){return r.a.createElement("h3",null,"Order total: ",e)},decimalScale:2,value:B(l),displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{disabled:k||v},k?r.a.createElement("p",null,"processing..."):"Buy Now")),S&&r.a.createElement("div",null,S))))))},Y=(t(58),Object(s.a)(""));var X=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/orders"},r.a.createElement(C,null),r.a.createElement(k,null)),r.a.createElement(m.a,{path:"/payment"},r.a.createElement(C,null),r.a.createElement(o.Elements,{stripe:Y},r.a.createElement(K,null))),r.a.createElement(m.a,{path:"/checkout"},r.a.createElement(C,null),r.a.createElement(z,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(C,null),r.a.createElement(T,null)))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,{initialState:M,reducer:P},r.a.createElement(X,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.6d91c164.chunk.js.map